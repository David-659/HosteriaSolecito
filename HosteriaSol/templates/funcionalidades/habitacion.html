{% extends '-bases.html' %}
{% load static %}
{% block tittle %} habitacion {% endblock %}
{% block style %} {% static 'css/Register.css' %} {% endblock %}
{% block cuerpo %}
    <div class="register-container">
        {% if datos %}
        <h2>Editar habitacion {{ datos.nombre }}</h2>
        {% else %}
            <h2>Agregar Habitacion</h2>
        {% endif %}
        <form class="register-form" enctype="multipart/form-data" action="{% if datos %}{% url 'editar_habitacion' datos.id %}{% else %}{% url 'agregar_habitacion' %}{% endif %}" method="post">
            {% csrf_token %}
            <div class="input-group">
                <label>nombre</label>
                <input name="nombre" value="{{datos.nombre}}" type="text"  placeholder="Introduce tu nombre de usuario" required>
            </div>
            <div class="input-group">
                <label>Descripción: </label>
                <textarea name="descripcion" type="textarea" placeholder="Describe la habitación" required>{{ datos.descripcion }}</textarea>
            </div>
            <div class="input-group">
                <label>Capacidad</label>
                <input name="capacidad" value="{{ datos.capacidad }}" type="number" min="1" placeholder="Capacidad máxima" required>
            </div>
            <div class="input-group">
                <label>Precio: </label>
                <input name="precio" value="{{ datos.precio|stringformat:'.2f' }}" type="number" placeholder="Ej: 250000.00" required>
            </div>
            <div class="input-group">
                <label>Foto de Habitacion:</label><br>
                {% if datos %}
                    <br><img src="{{ datos.foto.url }}" alt="Foto de perfil" width="120px" height="120px" style="border-radius: 10px; display: block; margin-bottom: 10px;">
                {% endif %}
                <input type="file" name="foto" accept="image/*">
            </div>
            <div class="input-group">
                <select name="estado" required>
                    <option value="D" {% if datos.estado == "D" %}selected{% endif %}>Disponible</option>
                    <option value="R" {% if datos.estado == "N" %}selected{% endif %}>Reservada</option>
                    <option value="L" {% if datos.estado == "L" %}selected{% endif %}>En limpieza</option>
                </select>
            </div>
            <button type="submit" class="btn-register">{% if datos %}Actualizar{% else %}Registrarse{% endif %}</button>
        </form>
    </div>
{% endblock %}